# EasyGo

### 写在前面 ###

我写的是高德地图api的一个地图应用，因为UI风格以及交互逻辑都是模仿的高德，所以也就没有上传各大商店 ~~怕出问题~~。

### App使用须知 ###

对应用在使用中的情况（bug）的一些解答，可跳过

1. 空白：app当中存在有留白以及无用的导航，这些大多都是因为时间以及技术问题而没有实现的功能，为了视觉效果而被保留了下来。当然也有官方没有给出的api，例如地点的评论之类的。
2. 定位：我的逻辑是后台持续定位并保存本地，点击定位按钮才将镜头中心移到屏幕中间，且进应用后的移动镜头是从本地读取的记录，默认值是北京。所以就会出现第一次使用应用会将镜头移到北京的情况，且位置改变后在打开应用会出现镜头在上次定位的地方的情况。还有一点值得注意，高德api的定位在debug版出现了不准，慢的情况，简单体验了release版后发现好像没有这些问题了。
3. 出行界面：在体验正式版式该界面的逻辑表现明显与debug版不同，重新切换到debug版后这些疑似“bug”的逻辑却又消失了。虽说如此，但该界面的有些逻辑确实是因为我自身没有处理好代码逻辑的原因。
4. 搜索：app中存在这一定数量的搜索界面，同时为了美观我也放弃了添加搜索按钮。所以需要搜索的时候就请善用回车键吧。还有也要善于back。

### 代码简介 ###

*  **架构结构：** 我的应用使用的是mvvm的架构 ~~废话~~ ，本应是这样的，但由于我对mvvm的理解不够深刻，也只写过一些简单的demo，在加上我对官方的这句“ [`ViewModel`](https://developer.android.google.cn/reference/androidx/lifecycle/ViewModel) 绝不能引用视图、[`Lifecycle`](https://developer.android.google.cn/reference/androidx/lifecycle/Lifecycle) 或可能存储对 Activity 上下文的引用的任何类 ”的一些不知道正确与否的理解，最终导致了我的MainActivity还是过于繁复，虽然已经做过一些调整了，但还是不尽如人意。所以我会尽量写上注解，让代码易于理解些的。
*  **主要架构及通信介绍：** 在易行地图（本app）中，主要以MainActivity来承载、控制amap实例，以 ***BottomSheet*** 的方式承载fragment，实现搜索等功能。fragment与fragment，fragment与activity之间的通信使用ViewModel，监听值的改变来实现，activity与activity之间则是EventBus
*  **实现的主要功能：** 地图展示，定位，地点搜索，出行路线规划，搜索历史的记录与清除，一键导航（官方的），离线地图（官方的）。其它的小功能就不介绍也不贴图了。学长们有需要可以实际使用感受一下，确实可以说是一言难尽。。。其实只要关乎到官方的东西基本都有示例或者说是封装好了的，对于我来说，在这个应用上花费时间的更多的，或者说学习到的 ~~毕竟之前的demo简直就像闹着玩一样~~ ，其实是fragment与fragment之间，fragment与activity之间， activity与activity之间的跳转和通信，以及 ***ViewModel+LiveData+DataBinding+Room*** 的实际应用 ~~虽然还是有很多迷惑以及不太明白的地方就是了~~。以及难得的实战经验。
*  **主要使用技术：** 利用 ***ViewModel+LiveData*** 实现activity与fragment之间的通信， ***Room+LiveData+ViewModel*** 实现搜索历史的本地化，EventBus实现activity之间的通信，DataBinding实现数据绑定。还有一些细节，不过也没那么重要了
*  **代码风格：** 我的代码的一部分是参照的Google的实例sunflower，各位学长不要在意
*  **亿些感想：** 我们的考核是10号晚上开始的，然而我上午电脑就送修了，这一修就是两天，再上课件也还没有准备，那时候可以说是真的慌了，导致拿到电脑的前几天神经一直都处于紧绷的状态，没事就是整个界面整改啊之类的，再加上本来就写好的代码又要加上写的功能，导致最后有些代码我自己都不敢再碰了。典型的就是“出行”的界面，21号发现有逻辑不符预期（因为本来写好的代码加了新功能），也确实没有时间和精力去改了。再反观我写的应用，我觉得不能算坏，毕竟有些地方我还是很满意的。但我也绝对不可能有说出稳过的自信，毕竟自己有几斤几两自己最清楚。

### 写在最后 ###

如果有可能的话，我还是非常希望能够留在红岩的，但我也知道，有些东西确实是没有办法的。但是，不管最后我是否能够通过考核留在红岩，都衷心地感谢各位学长为我们所花费的每分每秒，谢谢。
